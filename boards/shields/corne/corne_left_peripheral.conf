# Connection power (try -4 first, then -8 if stable)
CONFIG_BT_CTLR_TX_PWR_MINUS_8=y

# Power management for SuperMini nrf52840
CONFIG_ZMK_PM_SOFT_OFF=y
CONFIG_PM_DEVICE=y
CONFIG_PM_DEVICE_RUNTIME=y

# Battery settings
CONFIG_BT_BAS=y
CONFIG_ZMK_BATTERY_REPORTING=y
CONFIG_ZMK_BATTERY_REPORT_INTERVAL=60
CONFIG_ZMK_BATTERY_VOLTAGE_DIVIDER=y

# Sleep settings optimized for your hardware
CONFIG_ZMK_SLEEP=y
CONFIG_ZMK_IDLE_TIMEOUT=600000        # 10 minutes
CONFIG_ZMK_IDLE_SLEEP_TIMEOUT=3600000 # 1 hour

# Disable unnecessary features for battery savings
CONFIG_ZMK_USB=n
CONFIG_ZMK_USB_LOGGING=n
CONFIG_ZMK_DISPLAY=n

# Connection stability
CONFIG_ZMK_BLE_EXPERIMENTAL_CONN=y
CONFIG_ZMK_BLE_EXPERIMENTAL_FEATURES=y
CONFIG_BT_GATT_ENFORCE_SUBSCRIPTION=n
